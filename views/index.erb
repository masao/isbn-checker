<!doctype html>
<html lang="ja" xml:lang="ja">
<head>
<meta charset="utf-8" />
<link rev="made" href="mailto:tmasao@acm.org" />
<title>ISBN Checker</title>
<style type="text/css">
.ok { color: green }
.bad { color: red }
</style>
</head>
<body>
<h1>ISBN Checker</h1>
<p>ISBNデータの検証を行います。ISBNを1行ごとに改行して以下のフォームに入力してください:</p>
<div class="form">
<form action="<%=h request.script_name %>" method="POST">
<textarea rows="20" cols="50" name="isbns"><%=h params["isbns"] %></textarea>
<input type="submit" value="  Check!  " /><br>
</form>
</div>
<% if @isbns %>
  <% STDERR.puts @isbns.inspect %>
  <table border="1">
    <tr>
      <th>ISBN</th><th>result</th>
    </tr>
    <% @isbns.each do |isbn, result| %>
      <% result = result ? "ok" : "bad" %>
      <tr>
      <td><%=h isbn %></td>
      <td class="<%=h result %>"><%=h result %></td>
      </tr>
    <% end %>
  </table>
<% end %>
<hr />
<div id="footer">
<address>高久雅生 (Masao Takaku)<br />
</div>
</body>
</html>
